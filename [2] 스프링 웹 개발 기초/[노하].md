# [01] 정적 컨텐츠

## 1. 정적 컨텐츠
> 정적 컨텐츠란? 그저 파일을 그대로 웹 브라우저에 내려주는 것

- 스프링 부트는 정적 컨텐츠를 **static**에서 기본 설정으로 제공한다.

### 1.1. static에서 html 파일을 생성한다면?

1. static 폴더 안에 `hello-static.html`파일을 만든다.

2. 아래와 같이 작성한다.
    ```html
    <!doctype html>
    <html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <title>static content</title>
    </head>
    <body>
    정적 컨텐츠 입니다.
    </body>
    </html>
    ```
3. 스프링을 실행한다.

4. `localhost:8080/hello-static.html`로 접속한다.
    - / 뒤에는 자신이 static 영역에 생성한 파일명을 명시한다.

5. "정적 컨텐츠 입니다." 라는 문구가 잘 나오는지 확인한다.

### 1.2. 작동 원리

1. `localhost:8080/hello-static.html`의 요청을 내장 톰켓 서버가 받는다.

2. 내장 톰켓 서버가 `localhost:8080/hello-static.html`라는 요청이 왔대~ 라며 스프링으로 전달한다.

3. 스프링은 controller 쪽에서 `hello-static.html`파일이 있는지를 찾는다.
    - controller가 먼저 우선순위를 가진다는 뜻

4. 이와 관련된 매핑된 컨트롤러가 없다면 `resources`안의 `static`에서 `hello-static.html`파일이 있는지를 찾는다.

5. 있다면 `hello-static.html`을 반환해준다.

<br>

## 2. MVC와 템플릿 엔진
> 템플릿 엔진이란? html을 서버에서 프로그래밍하여 html을 동적으로 바꿔서 내리는 것
> MVC(Model View Controller)란? 템플릿 엔진을 사용하기 위해서 사용하는 Controller, Model, 템플릿 엔진의 화면 이 세 가지를 Model View Controller 라고 한다.

<br>

### 2.1. 정적 컨텐츠 vs MVC와 템플릿 엔진

|정적 컨텐츠|MVC와 템플릿 엔진|
|---|---|
|파일을 그대로 웹브라우저에 전달해주는 방식|서버에서 변형하여 웹브라우저에 전달해주는 방식|

<br>

## 3. API
> API 방식이란? JSON으로 클라이언트에게 데이터를 전달하는 방식

- JSON : 데이터 구조 포맷

### 3.1. 언제 사용해요?
- 데이터만 내려주고 화면은 클라이언트가 따로 구현할 때
- 서버끼리 통신할 때
    - 서버끼리는 어떠한 데이터가 왔다갔다 하는지가 중요하기 때문

<br>

# [02] MVC와 템플릿 엔진

## 1. MVC
> MVC란? Model, View, Controller

### 1.1. 역할 분배를 왜 하나요?
- View는 화면을 그리는 데에 모든 역량을 집중
- Controller 나 Model은 비즈니스 로직과 관련이 있거나 내부적인 것을 처리하는 것에 집중

### 1.2. Controller를 만들어보자!

1. src > main > java > ... > controller > HelloController 에서 아래의 코드를 작성한다.
```java
    @GetMapping("hello-mvc")
    public String helloMvc(@RequestParam("name") String name, Model model) {
        model.addAttribute("name", name);
        return "hello-template";
    }
```

2. src > resources > templates 에서 `hello-template.html`파일을 생성하여 아래의 코드를 작성한다.
```java
<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Hello</title>
</head>
<body>
<p th:text="'hello ' + ${name}">hello! empty</p>
</body>
</html>
```

- thymeleaf의 장점
    - 서버를 띄우지 않아도 파일 자체를 열어서 껍데기를 볼 수 있다!

3. 스프링 서버를 실행한 후, `localhost:8080/hello-mvc`로 서버에 접속한다.

4. 에러가 난다. ???

<br>

### 1.3. 왜 에러가 날까?
> Required request parameter 'name' for method parameter type String is not present
(name의 값이 없다)

- `localhost:8080/hello-mvc?name=출력값` 으로 `name`에 값을 넣어주어야 한다.
    - ex) `localhost:8080/hello-mvc?name=hello spring!!!!!!!`
        - http Get 방식에서 사용하는 방법

<br>

### 1.4. 작동 원리

1. 웹브라우저가 `localhost:8080/hello-mvc` 를 넘기면

2. 내장 톰켓 서버를 거치고, 내장 톰켓 서버는 스프링에게 해당 서버를 넘긴다.

3. `helloController`에 매핑된 `url`을 확인하고 매핑이 되어있다면 리턴값과 키, 값을 `viewResolver`로 넘긴다.

4. `viewResolver`는 리턴된 url 이름과 똑같은 파일을 찾아 `Thymeleaf`로 넘긴다.

5. `Rendering`을 해서 변환을 한 파일을 웹 브라우저에 띄운다.
    - 정적으로 처리할 때는 변환을 하지 않았지만 템플릿 엔진을 사용하였기 때문에 변환을 한 것

<br>